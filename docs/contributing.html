<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contributing - CAD Preprocess</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <div class="logo-text">CAD Preprocess <span>v0.1.0</span></div>
            </a>
            <nav class="header-nav">
                <a href="../index.html">Home</a>
                <a href="installation.html">Installation</a>
                <a href="quickstart.html">Quick Start</a>
                <a href="api/index.html">API Reference</a>
                <a href="https://github.com/Harshil-Anuwadia/cad-preprocess" target="_blank">GitHub</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Getting Started</div>
                <ul class="sidebar-nav">
                    <li><a href="../index.html">Overview</a></li>
                    <li><a href="installation.html">Installation</a></li>
                    <li><a href="quickstart.html">Quick Start</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">User Guide</div>
                <ul class="sidebar-nav">
                    <li><a href="guides/cli.html">CLI Usage</a></li>
                    <li><a href="guides/python-api.html">Python API</a></li>
                    <li><a href="guides/configuration.html">Configuration</a></li>
                    <li><a href="guides/metadata-profiles.html">Metadata Profiles</a></li>
                    <li><a href="guides/preprocessing.html">Preprocessing Pipeline</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">API Reference</div>
                <ul class="sidebar-nav">
                    <li><a href="api/index.html">Overview</a></li>
                    <li><a href="api/integration.html">Integration</a></li>
                    <li><a href="api/input_handler.html">Input Handler</a></li>
                    <li><a href="api/preprocessing_engine.html">Preprocessing Engine</a></li>
                    <li><a href="api/metadata_extractor.html">Metadata Extractor</a></li>
                    <li><a href="api/output_writer.html">Output Writer</a></li>
                    <li><a href="api/config.html">Configuration</a></li>
                    <li><a href="api/logging_utils.html">Logging Utilities</a></li>
                    <li><a href="api/cli.html">CLI Module</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">Resources</div>
                <ul class="sidebar-nav">
                    <li><a href="examples.html">Examples</a></li>
                    <li><a href="changelog.html">Changelog</a></li>
                    <li><a href="contributing.html" class="active">Contributing</a></li>
                </ul>
            </div>
        </aside>

        <main class="content">
            <nav class="breadcrumb">
                <a href="../index.html">Home</a> &gt; Contributing
            </nav>

            <h1>Contributing</h1>

            <p>Thank you for your interest in contributing to CAD Preprocess! This guide will help you get started.</p>

            <div class="toc">
                <div class="toc-title">Contents</div>
                <ul>
                    <li><a href="#getting-started">Getting Started</a></li>
                    <li><a href="#development">Development Setup</a></li>
                    <li><a href="#guidelines">Code Guidelines</a></li>
                    <li><a href="#testing">Testing</a></li>
                    <li><a href="#pull-requests">Pull Requests</a></li>
                    <li><a href="#issues">Reporting Issues</a></li>
                </ul>
            </div>

            <h2 id="getting-started">Getting Started</h2>

            <ol>
                <li><strong>Fork the repository</strong> on GitHub</li>
                <li><strong>Clone your fork</strong> locally</li>
                <li><strong>Create a branch</strong> for your changes</li>
                <li><strong>Make changes</strong> and commit</li>
                <li><strong>Push</strong> and create a Pull Request</li>
            </ol>

            <h2 id="development">Development Setup</h2>

            <pre><code><span class="comment"># Clone your fork</span>
git clone https://github.com/YOUR_USERNAME/cad-preprocess.git
cd cad-preprocess

<span class="comment"># Create virtual environment</span>
python -m venv .venv
source .venv/bin/activate  <span class="comment"># Linux/macOS</span>
<span class="comment"># .venv\Scripts\activate  # Windows</span>

<span class="comment"># Install in development mode</span>
pip install -e ".[dev]"

<span class="comment"># Install development dependencies</span>
pip install pytest pytest-cov black isort mypy</code></pre>

            <h2 id="guidelines">Code Guidelines</h2>

            <h3>Style</h3>
            <ul>
                <li>Follow <a href="https://pep8.org/">PEP 8</a> style guidelines</li>
                <li>Use <code>black</code> for code formatting</li>
                <li>Use <code>isort</code> for import sorting</li>
                <li>Maximum line length: 88 characters</li>
            </ul>

            <h3>Format Code</h3>
            <pre><code><span class="comment"># Format code</span>
black src/ tests/

<span class="comment"># Sort imports</span>
isort src/ tests/

<span class="comment"># Type checking</span>
mypy src/</code></pre>

            <h3>Docstrings</h3>
            <p>Use Google-style docstrings:</p>
            <pre><code><span class="keyword">def</span> <span class="function">process_file</span>(path: str, output_dir: str) -> ProcessingResult:
    <span class="string">"""Process a single DICOM file.
    
    Args:
        path: Path to the DICOM file.
        output_dir: Directory for output files.
        
    Returns:
        ProcessingResult containing the processed image and metadata.
        
    Raises:
        DicomReadError: If the file cannot be read.
        ProcessingError: If processing fails.
    """</span>
    ...</code></pre>

            <h3>Type Hints</h3>
            <p>Use type hints for all public functions:</p>
            <pre><code><span class="keyword">from</span> typing <span class="keyword">import</span> List, Optional, Dict, Any
<span class="keyword">from</span> pathlib <span class="keyword">import</span> Path

<span class="keyword">def</span> <span class="function">discover</span>(
    self,
    path: Path | str,
    recursive: bool = <span class="keyword">True</span>
) -> List[DicomFile]:
    ...</code></pre>

            <h2 id="testing">Testing</h2>

            <h3>Run Tests</h3>
            <pre><code><span class="comment"># Run all tests</span>
pytest

<span class="comment"># Run with coverage</span>
pytest --cov=cad_preprocess --cov-report=html

<span class="comment"># Run specific test file</span>
pytest tests/test_input_handler.py

<span class="comment"># Run specific test</span>
pytest tests/test_input_handler.py::test_discover_recursive</code></pre>

            <h3>Writing Tests</h3>
            <pre><code><span class="keyword">import</span> pytest
<span class="keyword">from</span> cad_preprocess <span class="keyword">import</span> InputHandler

<span class="keyword">class</span> <span class="class-name">TestInputHandler</span>:
    <span class="keyword">def</span> <span class="function">test_discover_files</span>(self, tmp_path):
        <span class="string">"""Test DICOM file discovery."""</span>
        <span class="comment"># Setup</span>
        handler = InputHandler()
        
        <span class="comment"># Execute</span>
        files = handler.discover(tmp_path)
        
        <span class="comment"># Assert</span>
        <span class="keyword">assert</span> len(files) == expected_count
    
    <span class="keyword">def</span> <span class="function">test_invalid_path_raises</span>(self):
        <span class="string">"""Test that invalid path raises FileNotFoundError."""</span>
        handler = InputHandler()
        
        <span class="keyword">with</span> pytest.raises(FileNotFoundError):
            handler.discover(<span class="string">"/nonexistent/path"</span>)</code></pre>

            <h2 id="pull-requests">Pull Requests</h2>

            <h3>Before Submitting</h3>
            <ol>
                <li>Ensure all tests pass: <code>pytest</code></li>
                <li>Format code: <code>black src/ tests/</code></li>
                <li>Sort imports: <code>isort src/ tests/</code></li>
                <li>Check types: <code>mypy src/</code></li>
                <li>Update documentation if needed</li>
            </ol>

            <h3>PR Description</h3>
            <p>Include in your PR description:</p>
            <ul>
                <li><strong>What</strong> - Brief description of changes</li>
                <li><strong>Why</strong> - Motivation for the changes</li>
                <li><strong>How</strong> - Implementation approach</li>
                <li><strong>Testing</strong> - How you tested the changes</li>
            </ul>

            <h3>PR Template</h3>
            <pre><code>## Description
Brief description of what this PR does.

## Changes
- Change 1
- Change 2

## Testing
- [ ] Added unit tests
- [ ] All tests pass
- [ ] Tested manually

## Related Issues
Fixes #123</code></pre>

            <h2 id="issues">Reporting Issues</h2>

            <h3>Bug Reports</h3>
            <p>Include:</p>
            <ul>
                <li>Python version</li>
                <li>CAD Preprocess version</li>
                <li>Operating system</li>
                <li>Steps to reproduce</li>
                <li>Expected vs actual behavior</li>
                <li>Error messages (full traceback)</li>
            </ul>

            <h3>Feature Requests</h3>
            <p>Include:</p>
            <ul>
                <li>Use case description</li>
                <li>Proposed solution</li>
                <li>Alternative solutions considered</li>
            </ul>

            <div class="info-box tip">
                <div class="info-box-title">ðŸ’¡ Questions?</div>
                Feel free to open an issue on <a href="https://github.com/Harshil-Anuwadia/cad-preprocess/issues">GitHub</a> if you have questions about contributing.
            </div>
        </main>
    </div>

    <footer class="footer">
        <p>CAD Preprocess Documentation Â· <a href="https://github.com/Harshil-Anuwadia/cad-preprocess">GitHub</a> Â· MIT License</p>
    </footer>
</body>
</html>
